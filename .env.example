# -----------------------------------------------------------------------------
# .env.example
#
# Copy to `.env` and set real values. Do NOT commit `.env`.
#
# Notes:
# - Store secrets (e.g. N8N_ENCRYPTION_KEY, POSTGRES_PASSWORD) in 1Password.
# - For LAN-only HTTP access you may set N8N_SECURE_COOKIE=false.
#   When you later enable HTTPS/reverse-proxy, remove that override.
# -----------------------------------------------------------------------------

# ---- n8n ----
# n8n docker package version. Defined here to facilitate making the version
# explicit in docker-compose.yml if desired.
N8N_VERSION=latest

# Required: MUST remain stable once set (used to encrypt credentials in DB)
N8N_ENCRYPTION_KEY=

# External URL settings
# Examples:
#   http://n8n.local:5678
#   https://n8n.example.com
N8N_PROTOCOL=http
N8N_HOST=n8n.local
N8N_HOST_IP=10.20.0.6
N8N_PORT=5678

# For HTTP-only LAN setups (set to true/omit when using HTTPS)
N8N_SECURE_COOKIE=false

# ---- PostgreSQL ----
POSTGRES_DB=n8n
POSTGRES_USER=n8n
POSTGRES_PASSWORD=

# ---- Postgres exposure (optional) ----
# For TablePlus from your LAN, set this to the host's VLAN interface IP, e.g. 10.20.0.6
# Safer default is loopback-only, i.e. 127.0.0.1:
POSTGRES_BIND_IP=127.0.0.1

# ---- n8n Runners
# Generate N8N_RUNNERS_AUTH_TOKEN with command:
#   openssl rand -base64 24
N8N_RUNNERS_AUTH_TOKEN=
N8N_RUNNERS_MODE=external
N8N_RUNNERS_BROKER_LISTEN_ADDRESS=0.0.0.0
N8N_RUNNERS_TASK_BROKER_URI=http://n8n:5679
N8N_NATIVE_PYTHON_RUNNER=true

# ---- Optional / nice to have ----
TZ=America/New_York
